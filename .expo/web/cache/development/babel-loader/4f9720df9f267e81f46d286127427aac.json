{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { useState, useContext } from \"react\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { collection, setDoc, getFirestore, doc } from \"firebase/firestore\";\nimport { auth, db } from \"../firebase.js\";\nimport { UserContext } from \"../UserContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction Signup(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      onChangeEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      onChangePassword = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      displayName = _useState6[0],\n      onChangeDisplayName = _useState6[1];\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var handleSignUp = function handleSignUp() {\n    var docRef, data;\n    return _regeneratorRuntime.async(function handleSignUp$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            createUserWithEmailAndPassword(auth, email, password).then(function (userCredentials) {\n              var user = userCredentials.user;\n            }).catch(function (error) {\n              return alert(error.message);\n            });\n            _context.prev = 1;\n            docRef = doc(db, \"users\", email);\n            data = {\n              coins: 0,\n              currentXp: 0,\n              diamonds: 0,\n              displayName: displayName,\n              email: email,\n              level: 1,\n              multiplier: 1,\n              questsToDo: 0,\n              questsDone: 0,\n              tasks: []\n            };\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(setDoc(docRef, data));\n\n          case 6:\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(setUser(data));\n\n          case 8:\n            navigation.navigate(\"homepage\");\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](1);\n            alert(\"Error: \", _context.t0.message);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 11]], Promise);\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsxs(ImageBackground, {\n      style: styles.bg,\n      source: require(\"./../assets/background.png\"),\n      children: [_jsx(Image, {\n        source: require(\"./../assets/signupBanner.png\"),\n        style: styles.banner\n      }), _jsxs(View, {\n        style: styles.inputFieldsContainer,\n        children: [_jsx(TextInput, {\n          style: styles.inputFields,\n          onChangeText: onChangeDisplayName,\n          value: displayName,\n          placeholder: \"Display Name\"\n        }), _jsx(TextInput, {\n          style: styles.inputFields,\n          onChangeText: onChangeEmail,\n          placeholder: \"Email\",\n          value: email\n        }), _jsx(TextInput, {\n          style: styles.inputFields,\n          onChangeText: onChangePassword,\n          value: password,\n          placeholder: \"Password\",\n          secureTextEntry: true\n        }), _jsx(Pressable, {\n          onPress: handleSignUp,\n          children: _jsx(Image, {\n            source: require(\"./../assets/buttons/submit.png\"),\n            style: styles.submit\n          })\n        })]\n      })]\n    })\n  });\n}\n\nexport default Signup;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  banner: {\n    resizeMode: \"contain\",\n    position: \"absolute\",\n    top: 0,\n    width: \"100%\",\n    height: \"10%\",\n    backgroundColor: \"black\"\n  },\n  bg: {\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"flex-start\"\n  },\n  inputFields: {\n    marginTop: 50,\n    width: \"100%\",\n    backgroundColor: \"white\",\n    height: \"10%\"\n  },\n  inputFieldsContainer: {\n    marginTop: 50\n  },\n  submit: {\n    width: \"100%\",\n    height: \"40%\",\n    resizeMode: \"contain\",\n    top: 50\n  }\n});","map":{"version":3,"sources":["/home/aadivyaraushan/Documents/GitHub/nocrastination/screens/Signup.js"],"names":["StatusBar","useState","useContext","getAuth","createUserWithEmailAndPassword","collection","setDoc","getFirestore","doc","auth","db","UserContext","Signup","navigation","email","onChangeEmail","password","onChangePassword","displayName","onChangeDisplayName","user","setUser","handleSignUp","then","userCredentials","catch","error","alert","message","docRef","data","coins","currentXp","diamonds","level","multiplier","questsToDo","questsDone","tasks","navigate","styles","container","bg","require","banner","inputFieldsContainer","inputFields","submit","StyleSheet","create","flex","backgroundColor","display","flexDirection","justifyContent","resizeMode","position","top","width","height","marginTop"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport {\n  TextInput,\n  StyleSheet,\n  Text,\n  View,\n  Image,\n  ImageBackground,\n  Pressable,\n} from \"react-native\";\nimport { useState, useContext } from \"react\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { collection, setDoc, getFirestore, doc } from \"firebase/firestore\";\nimport { auth, db } from \"../firebase.js\";\nimport { UserContext } from \"../UserContext.js\";\n\nfunction Signup({ navigation }) {\n  const [email, onChangeEmail] = useState(\"\");\n  const [password, onChangePassword] = useState(\"\");\n  const [displayName, onChangeDisplayName] = useState(\"\");\n  const { user, setUser } = useContext(UserContext);\n\n  const handleSignUp = async () => {\n    createUserWithEmailAndPassword(auth, email, password)\n      .then((userCredentials) => {\n        var user = userCredentials.user;\n      })\n      .catch((error) => alert(error.message));\n\n    try {\n      const docRef = doc(db, \"users\", email);\n\n      const data = {\n        coins: 0,\n        currentXp: 0,\n        diamonds: 0,\n        displayName: displayName,\n        email: email,\n        level: 1,\n        multiplier: 1,\n        questsToDo: 0,\n        questsDone: 0,\n        tasks: [],\n      };\n\n      await setDoc(docRef, data);\n\n      await setUser(data);\n\n      navigation.navigate(\"homepage\");\n    } catch (e) {\n      alert(\"Error: \", e.message);\n    }\n  };\n  return (\n    <View style={styles.container}>\n      <ImageBackground\n        style={styles.bg}\n        source={require(\"./../assets/background.png\")}\n      >\n        <Image\n          source={require(\"./../assets/signupBanner.png\")}\n          style={styles.banner}\n        />\n        <View style={styles.inputFieldsContainer}>\n          <TextInput\n            style={styles.inputFields}\n            onChangeText={onChangeDisplayName}\n            value={displayName}\n            placeholder=\"Display Name\"\n          />\n          <TextInput\n            style={styles.inputFields}\n            onChangeText={onChangeEmail}\n            placeholder=\"Email\"\n            value={email}\n          />\n          <TextInput\n            style={styles.inputFields}\n            onChangeText={onChangePassword}\n            value={password}\n            placeholder=\"Password\"\n            secureTextEntry\n          />\n          <Pressable onPress={handleSignUp}>\n            <Image\n              source={require(\"./../assets/buttons/submit.png\")}\n              style={styles.submit}\n            />\n          </Pressable>\n        </View>\n      </ImageBackground>\n    </View>\n  );\n}\nexport default Signup;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  banner: {\n    resizeMode: \"contain\",\n    position: \"absolute\",\n    top: 0,\n    width: \"100%\",\n    height: \"10%\",\n    backgroundColor: \"black\",\n  },\n  bg: {\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"flex-start\",\n  },\n  inputFields: {\n    marginTop: 50,\n    width: \"100%\",\n    backgroundColor: \"white\",\n    height: \"10%\",\n  },\n  inputFieldsContainer: {\n    marginTop: 50,\n  },\n  submit: {\n    width: \"100%\",\n    height: \"40%\",\n    resizeMode: \"contain\",\n    top: 50,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}