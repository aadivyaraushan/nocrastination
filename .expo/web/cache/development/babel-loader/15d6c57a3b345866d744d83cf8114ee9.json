{"ast":null,"code":"import _toArray from \"@babel/runtime/helpers/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { useState, useContext } from \"react\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { collection, setDoc, getFirestore, doc } from \"firebase/firestore\";\nimport { auth, db } from \"../firebase.js\";\nimport { UserContext } from \"../UserContext.js\";\nimport { useFonts } from \"expo-font\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction Signup(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      onChangeEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      onChangePassword = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      displayName = _useState6[0],\n      onChangeDisplayName = _useState6[1];\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var _useFonts = useFonts({\n    RetroGaming: require(\"../assets/fonts/RetroGaming-Regular.ttf\"),\n    InkyThinPixels: require(\"../assets/fonts/InkyThinPixels-Regular.ttf\"),\n    PlayMeGames: require(\"../assets/fonts/Playmegames-Regular.ttf\")\n  }),\n      _useFonts2 = _toArray(_useFonts);\n\n  var handleSignUp = function handleSignUp() {\n    var docRef, data;\n    return _regeneratorRuntime.async(function handleSignUp$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            createUserWithEmailAndPassword(auth, email, password).then(function (userCredentials) {\n              var user = userCredentials.user;\n            }).catch(function (error) {\n              return alert(error.message);\n            });\n            _context.prev = 1;\n            docRef = doc(db, \"users\", email);\n            data = {\n              activeQuest: \"\",\n              avatar: \"\",\n              coins: 0,\n              currentXp: 0,\n              diamonds: 0,\n              displayName: displayName,\n              email: email,\n              emotes: [],\n              items: [],\n              level: 1,\n              questsDone: 0,\n              tasks: []\n            };\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(setDoc(docRef, data));\n\n          case 6:\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(setUser(data));\n\n          case 8:\n            navigation.navigate(\"homepage\");\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](1);\n            alert(\"Error: \", _context.t0.message);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 11]], Promise);\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsxs(ImageBackground, {\n      style: styles.bg,\n      source: require(\"./../assets/background.png\"),\n      children: [_jsx(Image, {\n        source: require(\"./../assets/signupBanner.png\"),\n        style: styles.banner\n      }), _jsxs(View, {\n        style: styles.inputFieldsContainer,\n        children: [_jsx(TextInput, {\n          style: styles.inputFields,\n          onChangeText: onChangeDisplayName,\n          value: displayName,\n          placeholder: \"Display Name\"\n        }), _jsx(TextInput, {\n          style: styles.inputFields,\n          onChangeText: onChangeEmail,\n          placeholder: \"Email\",\n          value: email\n        }), _jsx(TextInput, {\n          style: styles.inputFields,\n          onChangeText: onChangePassword,\n          value: password,\n          placeholder: \"Password\",\n          secureTextEntry: true\n        }), _jsx(Pressable, {\n          onPress: handleSignUp,\n          children: _jsx(Image, {\n            source: require(\"./../assets/buttons/submit.png\"),\n            style: styles.submit\n          })\n        })]\n      })]\n    })\n  });\n}\n\nexport default Signup;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  banner: {\n    resizeMode: \"contain\",\n    position: \"absolute\",\n    top: 0,\n    width: \"100%\",\n    height: \"10%\",\n    backgroundColor: \"black\"\n  },\n  bg: {\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"flex-start\"\n  },\n  inputFields: {\n    marginTop: 50,\n    width: \"100%\",\n    backgroundColor: \"white\",\n    height: \"10%\"\n  },\n  inputFieldsContainer: {\n    marginTop: 50\n  },\n  submit: {\n    width: \"100%\",\n    height: \"40%\",\n    resizeMode: \"contain\",\n    top: 50\n  }\n});","map":{"version":3,"names":["StatusBar","useState","useContext","getAuth","createUserWithEmailAndPassword","collection","setDoc","getFirestore","doc","auth","db","UserContext","useFonts","Signup","navigation","email","onChangeEmail","password","onChangePassword","displayName","onChangeDisplayName","user","setUser","RetroGaming","require","InkyThinPixels","PlayMeGames","handleSignUp","then","userCredentials","catch","error","alert","message","docRef","data","activeQuest","avatar","coins","currentXp","diamonds","emotes","items","level","questsDone","tasks","navigate","styles","container","bg","banner","inputFieldsContainer","inputFields","submit","StyleSheet","create","flex","backgroundColor","display","flexDirection","justifyContent","resizeMode","position","top","width","height","marginTop"],"sources":["/home/aadivyaraushan/Documents/GitHub/nocrastination/screens/Signup.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport {\n  TextInput,\n  StyleSheet,\n  Text,\n  View,\n  Image,\n  ImageBackground,\n  Pressable,\n} from \"react-native\";\nimport { useState, useContext } from \"react\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { collection, setDoc, getFirestore, doc } from \"firebase/firestore\";\nimport { auth, db } from \"../firebase.js\";\nimport { UserContext } from \"../UserContext.js\";\nimport { useFonts } from \"expo-font\";\n\nfunction Signup({ navigation }) {\n  const [email, onChangeEmail] = useState(\"\");\n  const [password, onChangePassword] = useState(\"\");\n  const [displayName, onChangeDisplayName] = useState(\"\");\n  const { user, setUser } = useContext(UserContext);\n  const [] = useFonts({\n    RetroGaming: require(\"../assets/fonts/RetroGaming-Regular.ttf\"),\n    InkyThinPixels: require(\"../assets/fonts/InkyThinPixels-Regular.ttf\"),\n    PlayMeGames: require(\"../assets/fonts/Playmegames-Regular.ttf\"),\n  });\n\n  const handleSignUp = async () => {\n    createUserWithEmailAndPassword(auth, email, password)\n      .then((userCredentials) => {\n        var user = userCredentials.user;\n      })\n      .catch((error) => alert(error.message));\n\n    try {\n      const docRef = doc(db, \"users\", email);\n\n      const data = {\n        activeQuest: \"\",\n        avatar: \"\",\n        coins: 0,\n        currentXp: 0,\n        diamonds: 0,\n        displayName: displayName,\n        email: email,\n        emotes: [],\n        items: [],\n        level: 1,\n        questsDone: 0,\n        tasks: [],\n      };\n\n      await setDoc(docRef, data);\n\n      await setUser(data);\n\n      navigation.navigate(\"homepage\");\n    } catch (e) {\n      alert(\"Error: \", e.message);\n    }\n  };\n  return (\n    <View style={styles.container}>\n      <ImageBackground\n        style={styles.bg}\n        source={require(\"./../assets/background.png\")}\n      >\n        <Image\n          source={require(\"./../assets/signupBanner.png\")}\n          style={styles.banner}\n        />\n        <View style={styles.inputFieldsContainer}>\n          <TextInput\n            style={styles.inputFields}\n            onChangeText={onChangeDisplayName}\n            value={displayName}\n            placeholder=\"Display Name\"\n          />\n          <TextInput\n            style={styles.inputFields}\n            onChangeText={onChangeEmail}\n            placeholder=\"Email\"\n            value={email}\n          />\n          <TextInput\n            style={styles.inputFields}\n            onChangeText={onChangePassword}\n            value={password}\n            placeholder=\"Password\"\n            secureTextEntry\n          />\n          <Pressable onPress={handleSignUp}>\n            <Image\n              source={require(\"./../assets/buttons/submit.png\")}\n              style={styles.submit}\n            />\n          </Pressable>\n        </View>\n      </ImageBackground>\n    </View>\n  );\n}\nexport default Signup;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  banner: {\n    resizeMode: \"contain\",\n    position: \"absolute\",\n    top: 0,\n    width: \"100%\",\n    height: \"10%\",\n    backgroundColor: \"black\",\n  },\n  bg: {\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"flex-start\",\n  },\n  inputFields: {\n    marginTop: 50,\n    width: \"100%\",\n    backgroundColor: \"white\",\n    height: \"10%\",\n  },\n  inputFieldsContainer: {\n    marginTop: 50,\n  },\n  submit: {\n    width: \"100%\",\n    height: \"40%\",\n    resizeMode: \"contain\",\n    top: 50,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}